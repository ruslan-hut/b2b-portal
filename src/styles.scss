/* Global Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ========================================
   THEME SYSTEM - CSS Custom Properties
   ======================================== */

/* Base variables (non-themeable) */
:root {
  /* Border radius - standardized across components */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-pill: 9999px;

  /* Touch targets - minimum 44px for accessibility */
  --touch-target-min: 44px;

  /* Spacing */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* Safe areas for notched devices */
  --safe-area-top: env(safe-area-inset-top, 0);
  --safe-area-bottom: env(safe-area-inset-bottom, 0);
  --safe-area-left: env(safe-area-inset-left, 0);
  --safe-area-right: env(safe-area-inset-right, 0);
}

/* ========================================
   LIGHT THEME (Default)
   ======================================== */
:root,
[data-theme="light"] {
  /* Primary Colors */
  --color-primary: #667eea;
  --color-primary-dark: #5568d3;
  --color-primary-light: #8099ff;
  --color-primary-rgb: 102, 126, 234;

  --color-secondary: #764ba2;
  --color-secondary-dark: #5f3d85;
  --color-secondary-rgb: 118, 75, 162;

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-primary-hover: linear-gradient(135deg, #5568d3 0%, #5f3d85 100%);
  --gradient-danger: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%);
  --gradient-success: linear-gradient(135deg, #28a745 0%, #20c997 100%);

  /* Semantic Colors */
  --color-success: #28a745;
  --color-success-light: #d4edda;
  --color-success-dark: #155724;
  --color-success-rgb: 40, 167, 69;

  --color-danger: #dc3545;
  --color-danger-light: #fff5f5;
  --color-danger-dark: #c82333;
  --color-danger-rgb: 220, 53, 69;

  --color-warning: #ff6b6b;
  --color-warning-light: #fff0f0;
  --color-warning-rgb: 255, 107, 107;

  --color-info: #3498db;
  --color-info-light: #d6eaf8;
  --color-info-rgb: 52, 152, 219;

  /* Background Colors */
  --color-background: #f5f7fa;
  --color-background-secondary: #f8f9fa;
  --color-background-elevated: #ffffff;
  --color-background-card: #ffffff;
  --color-background-hover: #f0f4ff;
  --color-background-active: #e8ecff;

  /* Text Colors */
  --color-text-primary: #333333;
  --color-text-secondary: #666666;
  --color-text-muted: #999999;
  --color-text-light: #777777;
  --color-text-inverse: #ffffff;

  /* Border Colors */
  --color-border: #e1e8ed;
  --color-border-light: #f0f0f0;
  --color-border-focus: var(--color-primary);

  /* Shadows */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 2px 10px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 5px 20px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 10px 40px rgba(0, 0, 0, 0.2);
  --shadow-primary: 0 5px 20px rgba(102, 126, 234, 0.4);
  --shadow-primary-lg: 0 8px 28px rgba(102, 126, 234, 0.5);

  /* Component: Inputs */
  --input-bg: #ffffff;
  --input-border: var(--color-border);
  --input-text: var(--color-text-primary);
  --input-placeholder: #999999;
  --input-disabled-bg: #f5f5f5;

  /* Component: Buttons */
  --btn-secondary-bg: #f8f9fa;
  --btn-secondary-border: var(--color-border);
  --btn-secondary-text: var(--color-text-primary);
  --btn-secondary-hover-bg: #e9ecef;

  /* Component: Header */
  --header-bg: #ffffff;
  --header-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);

  /* Component: Cards */
  --card-bg: #ffffff;
  --card-border: #e1e8ed;
  --card-shadow: var(--shadow-md);
  --card-hover-shadow: var(--shadow-lg);

  /* Component: Tables */
  --table-header-bg: var(--gradient-primary);
  --table-header-text: #ffffff;
  --table-header-border: rgba(255, 255, 255, 0.1);
  --table-row-hover-bg: #f8f9fa;
  --table-row-selected-bg: #e8eeff;
  --table-row-in-cart-bg: #f0fff4;

  /* Component: Dropdowns */
  --dropdown-bg: #ffffff;
  --dropdown-border: #e1e8ed;
  --dropdown-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  --dropdown-item-hover-bg: #f5f7fa;
  --dropdown-item-active-bg: #f0f4ff;

  /* Component: Overlays & Modals */
  --overlay-bg: rgba(0, 0, 0, 0.7);
  --modal-bg: #ffffff;

  /* Component: Admin Zone */
  --admin-nav-bg: #2c3e50;
  --admin-nav-item-hover-bg: #34495e;
  --admin-nav-item-active-bg: #3498db;
  --admin-nav-text: #ecf0f1;
  --admin-nav-border: #34495e;
  --admin-content-bg: #f5f5f5;
  --admin-header-bg: #2c3e50;
  /* Admin Zone - Aliases for backward compatibility */
  --admin-bg: var(--admin-content-bg);
  --admin-nav-hover: var(--admin-nav-item-hover-bg);
  --admin-nav-active: var(--admin-nav-item-active-bg);

  /* Sticky Column Shadows */
  --shadow-sticky: 2px 0 4px rgba(0, 0, 0, 0.1);
  --shadow-sticky-light: 2px 0 4px rgba(0, 0, 0, 0.05);

  /* Status Badges */
  --status-draft-bg: #ecf0f1;
  --status-draft-text: #95a5a6;
  --status-new-bg: #d6eaf8;
  --status-new-text: #3498db;
  --status-processing-bg: #fef5e7;
  --status-processing-text: #f39c12;
  --status-confirmed-bg: #d5f4e6;
  --status-confirmed-text: #27ae60;
  --status-cancelled-bg: #fadbd8;
  --status-cancelled-text: #e74c3c;

  /* Spinners */
  --spinner-border: rgba(102, 126, 234, 0.2);
  --spinner-border-active: var(--color-primary);

  /* Scrollbar */
  --scrollbar-track: #f1f1f1;
  --scrollbar-thumb: #c1c1c1;
  --scrollbar-thumb-hover: #a1a1a1;
}

/* ========================================
   DARK THEME
   ======================================== */
[data-theme="dark"] {
  /* Primary Colors (slightly brighter for dark backgrounds) */
  --color-primary: #7b93f0;
  --color-primary-dark: #667eea;
  --color-primary-light: #9aadff;
  --color-primary-rgb: 123, 147, 240;

  --color-secondary: #9066c0;
  --color-secondary-dark: #764ba2;
  --color-secondary-rgb: 144, 102, 192;

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #7b93f0 0%, #9066c0 100%);
  --gradient-primary-hover: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --gradient-danger: linear-gradient(135deg, #ff7b72 0%, #f85149 100%);
  --gradient-success: linear-gradient(135deg, #34d058 0%, #28a745 100%);

  /* Semantic Colors */
  --color-success: #34d058;
  --color-success-light: #1a3a2a;
  --color-success-dark: #85e89d;
  --color-success-rgb: 52, 208, 88;

  --color-danger: #f85149;
  --color-danger-light: #3a1a1a;
  --color-danger-dark: #ff7b72;
  --color-danger-rgb: 248, 81, 73;

  --color-warning: #ff8a80;
  --color-warning-light: #3a2a1a;
  --color-warning-rgb: 255, 138, 128;

  --color-info: #58a6ff;
  --color-info-light: #1a2a3a;
  --color-info-rgb: 88, 166, 255;

  /* Background Colors */
  --color-background: #0d1117;
  --color-background-secondary: #161b22;
  --color-background-elevated: #21262d;
  --color-background-card: #161b22;
  --color-background-hover: #1c2128;
  --color-background-active: #252b33;

  /* Text Colors */
  --color-text-primary: #e6edf3;
  --color-text-secondary: #8b949e;
  --color-text-muted: #6e7681;
  --color-text-light: #7d8590;
  --color-text-inverse: #0d1117;

  /* Border Colors */
  --color-border: #30363d;
  --color-border-light: #21262d;
  --color-border-focus: var(--color-primary);

  /* Shadows */
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 2px 10px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 5px 20px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 10px 40px rgba(0, 0, 0, 0.6);
  --shadow-primary: 0 5px 20px rgba(123, 147, 240, 0.3);
  --shadow-primary-lg: 0 8px 28px rgba(123, 147, 240, 0.4);

  /* Component: Inputs */
  --input-bg: #0d1117;
  --input-border: var(--color-border);
  --input-text: var(--color-text-primary);
  --input-placeholder: #6e7681;
  --input-disabled-bg: #21262d;

  /* Component: Buttons */
  --btn-secondary-bg: #21262d;
  --btn-secondary-border: var(--color-border);
  --btn-secondary-text: var(--color-text-primary);
  --btn-secondary-hover-bg: #30363d;

  /* Component: Header */
  --header-bg: #161b22;
  --header-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);

  /* Component: Cards */
  --card-bg: #161b22;
  --card-border: #30363d;
  --card-shadow: var(--shadow-md);
  --card-hover-shadow: var(--shadow-lg);

  /* Component: Tables */
  --table-header-bg: linear-gradient(135deg, #2d3748 0%, #352f44 100%);
  --table-header-text: #e2e8f0;
  --table-header-border: #404858;
  --table-row-hover-bg: #1c2128;
  --table-row-selected-bg: #1c2840;
  --table-row-in-cart-bg: #1a3028;

  /* Component: Dropdowns */
  --dropdown-bg: #21262d;
  --dropdown-border: #30363d;
  --dropdown-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  --dropdown-item-hover-bg: #30363d;
  --dropdown-item-active-bg: #1c2840;

  /* Component: Overlays & Modals */
  --overlay-bg: rgba(0, 0, 0, 0.85);
  --modal-bg: #161b22;

  /* Component: Admin Zone */
  --admin-nav-bg: #0d1117;
  --admin-nav-item-hover-bg: #161b22;
  --admin-nav-item-active-bg: #1c2840;
  --admin-nav-text: #e6edf3;
  --admin-nav-border: #21262d;
  --admin-content-bg: #161b22;
  --admin-header-bg: #0d1117;
  /* Admin Zone - Aliases for backward compatibility */
  --admin-bg: var(--admin-content-bg);
  --admin-nav-hover: var(--admin-nav-item-hover-bg);
  --admin-nav-active: var(--admin-nav-item-active-bg);

  /* Sticky Column Shadows */
  --shadow-sticky: 2px 0 4px rgba(0, 0, 0, 0.3);
  --shadow-sticky-light: 2px 0 4px rgba(0, 0, 0, 0.2);

  /* Status Badges */
  --status-draft-bg: #21262d;
  --status-draft-text: #8b949e;
  --status-new-bg: #1c2840;
  --status-new-text: #58a6ff;
  --status-processing-bg: #3a2a1a;
  --status-processing-text: #f0b429;
  --status-confirmed-bg: #1a3a2a;
  --status-confirmed-text: #34d058;
  --status-cancelled-bg: #3a1a1a;
  --status-cancelled-text: #f85149;

  /* Spinners */
  --spinner-border: rgba(123, 147, 240, 0.3);
  --spinner-border-active: var(--color-primary);

  /* Scrollbar */
  --scrollbar-track: #21262d;
  --scrollbar-thumb: #484f58;
  --scrollbar-thumb-hover: #6e7681;
}

/* ========================================
   SYSTEM THEME (follows OS preference)
   ======================================== */
@media (prefers-color-scheme: dark) {
  [data-theme="system"] {
    /* Primary Colors */
    --color-primary: #7b93f0;
    --color-primary-dark: #667eea;
    --color-primary-light: #9aadff;
    --color-primary-rgb: 123, 147, 240;

    --color-secondary: #9066c0;
    --color-secondary-dark: #764ba2;
    --color-secondary-rgb: 144, 102, 192;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, #7b93f0 0%, #9066c0 100%);
    --gradient-primary-hover: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-danger: linear-gradient(135deg, #ff7b72 0%, #f85149 100%);
    --gradient-success: linear-gradient(135deg, #34d058 0%, #28a745 100%);

    /* Semantic Colors */
    --color-success: #34d058;
    --color-success-light: #1a3a2a;
    --color-success-dark: #85e89d;
    --color-success-rgb: 52, 208, 88;

    --color-danger: #f85149;
    --color-danger-light: #3a1a1a;
    --color-danger-dark: #ff7b72;
    --color-danger-rgb: 248, 81, 73;

    --color-warning: #ff8a80;
    --color-warning-light: #3a2a1a;
    --color-warning-rgb: 255, 138, 128;

    --color-info: #58a6ff;
    --color-info-light: #1a2a3a;
    --color-info-rgb: 88, 166, 255;

    /* Background Colors */
    --color-background: #0d1117;
    --color-background-secondary: #161b22;
    --color-background-elevated: #21262d;
    --color-background-card: #161b22;
    --color-background-hover: #1c2128;
    --color-background-active: #252b33;

    /* Text Colors */
    --color-text-primary: #e6edf3;
    --color-text-secondary: #8b949e;
    --color-text-muted: #6e7681;
    --color-text-light: #7d8590;
    --color-text-inverse: #0d1117;

    /* Border Colors */
    --color-border: #30363d;
    --color-border-light: #21262d;
    --color-border-focus: var(--color-primary);

    /* Shadows */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 2px 10px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 5px 20px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 10px 40px rgba(0, 0, 0, 0.6);
    --shadow-primary: 0 5px 20px rgba(123, 147, 240, 0.3);
    --shadow-primary-lg: 0 8px 28px rgba(123, 147, 240, 0.4);

    /* Component: Inputs */
    --input-bg: #0d1117;
    --input-border: var(--color-border);
    --input-text: var(--color-text-primary);
    --input-placeholder: #6e7681;
    --input-disabled-bg: #21262d;

    /* Component: Buttons */
    --btn-secondary-bg: #21262d;
    --btn-secondary-border: var(--color-border);
    --btn-secondary-text: var(--color-text-primary);
    --btn-secondary-hover-bg: #30363d;

    /* Component: Header */
    --header-bg: #161b22;
    --header-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);

    /* Component: Cards */
    --card-bg: #161b22;
    --card-border: #30363d;
    --card-shadow: var(--shadow-md);
    --card-hover-shadow: var(--shadow-lg);

    /* Component: Tables */
    --table-header-bg: linear-gradient(135deg, #2d3748 0%, #352f44 100%);
    --table-header-text: #e2e8f0;
    --table-header-border: #404858;
    --table-row-hover-bg: #1c2128;
    --table-row-selected-bg: #1c2840;
    --table-row-in-cart-bg: #1a3028;

    /* Component: Dropdowns */
    --dropdown-bg: #21262d;
    --dropdown-border: #30363d;
    --dropdown-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    --dropdown-item-hover-bg: #30363d;
    --dropdown-item-active-bg: #1c2840;

    /* Component: Overlays & Modals */
    --overlay-bg: rgba(0, 0, 0, 0.85);
    --modal-bg: #161b22;

    /* Component: Admin Zone */
    --admin-nav-bg: #0d1117;
    --admin-nav-item-hover-bg: #161b22;
    --admin-nav-item-active-bg: #1c2840;
    --admin-nav-text: #e6edf3;
    --admin-nav-border: #21262d;
    --admin-content-bg: #161b22;
    --admin-header-bg: #0d1117;
    /* Admin Zone - Aliases for backward compatibility */
    --admin-bg: var(--admin-content-bg);
    --admin-nav-hover: var(--admin-nav-item-hover-bg);
    --admin-nav-active: var(--admin-nav-item-active-bg);

    /* Sticky Column Shadows */
    --shadow-sticky: 2px 0 4px rgba(0, 0, 0, 0.3);
    --shadow-sticky-light: 2px 0 4px rgba(0, 0, 0, 0.2);

    /* Status Badges */
    --status-draft-bg: #21262d;
    --status-draft-text: #8b949e;
    --status-new-bg: #1c2840;
    --status-new-text: #58a6ff;
    --status-processing-bg: #3a2a1a;
    --status-processing-text: #f0b429;
    --status-confirmed-bg: #1a3a2a;
    --status-confirmed-text: #34d058;
    --status-cancelled-bg: #3a1a1a;
    --status-cancelled-text: #f85149;

    /* Spinners */
    --spinner-border: rgba(123, 147, 240, 0.3);
    --spinner-border-active: var(--color-primary);

    /* Scrollbar */
    --scrollbar-track: #21262d;
    --scrollbar-thumb: #484f58;
    --scrollbar-thumb-hover: #6e7681;
  }
}

/* Theme transition for smooth switching */
html {
  transition: background-color 0.3s ease;
}

html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease !important;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
  color: var(--color-text-primary);
  background: var(--color-background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Prevent text size adjustment on orientation change */
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 700;
  line-height: 1.2;
}

button {
  font-family: inherit;
  /* Improve touch response */
  touch-action: manipulation;
}

/* Utility Classes */
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

/* Form Resets */
input, textarea, select {
  font-family: inherit;
  /* Standardized border-radius */
  border-radius: var(--radius-md);
  /* Improve touch response */
  touch-action: manipulation;
}

/* Focus styles - visible for keyboard navigation */
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
a:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Remove outline for mouse/touch users */
button:focus:not(:focus-visible),
input:focus:not(:focus-visible),
textarea:focus:not(:focus-visible),
select:focus:not(:focus-visible),
a:focus:not(:focus-visible) {
  outline: none;
}

/* Legacy browsers - remove default outline */
button:focus,
input:focus,
textarea:focus,
select:focus {
  outline: none;
}

/* Ensure touch targets are at least 44px */
button,
[role="button"],
input[type="checkbox"],
input[type="radio"],
select {
  min-height: var(--touch-target-min);
}

/* Improve tap highlight on mobile */
a,
button,
input,
select,
textarea {
  -webkit-tap-highlight-color: rgba(102, 126, 234, 0.2);
}

/* Prevent pull-to-refresh on overscroll */
html {
  overscroll-behavior: none;
}

/* Material Icons global styles */
.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
  vertical-align: middle;
}

/* Mobile-specific improvements */
@media (max-width: 768px) {
  /* Prevent iOS zoom on input focus */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px;
  }

  /* Reduce container padding on mobile */
  .container {
    padding: 0 16px;
  }
}

/* Extra small screens */
@media (max-width: 480px) {
  .container {
    padding: 0 12px;
  }
}
